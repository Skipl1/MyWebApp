@model IEnumerable<dynamic>
@using System.Linq
@{
    ViewData["Title"] = "–°–ø–∏—Å–æ–∫ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–π –∏ —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–µ–π";
}

<link rel="stylesheet" href="~/css/site.css" asp-append-version="true" />

<div class="container program-container">
    
    @* === –ö–ù–û–ü–ö–ê –ù–ê–ó–ê–î === *@
    <a asp-controller="Home" asp-action="Index" class="back-button">
        <span class="back-icon">‚Üê</span> –ù–∞ –ì–ª–∞–≤–Ω—ã–π –≠–∫—Ä–∞–Ω
    </a>

    @* === –ó–ê–ì–û–õ–û–í–û–ö –°–¢–†–ê–ù–ò–¶–´ === *@
    <h2 class="program-page-title">–°–ø–∏—Å–æ–∫ –ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–π –∏ –°–ø–µ—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–µ–π</h2>

    @if (Model == null || !Model.Any())
    {
        <div class="empty-message">
            –ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è –Ω–µ –Ω–∞–π–¥–µ–Ω—ã.
        </div>
    }
    else
    {
        @* –ü—Ä–æ—Ö–æ–¥–∏–º—Å—è –ø–æ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è–º (–ì—Ä—É–ø–ø–∞–º) *@
        @foreach (var group in Model)
        {
            <div class="direction-section" style="margin-bottom: 30px;">
                
                @* === –ó–ê–ì–û–õ–û–í–û–ö –ì–†–£–ü–ü–´ === *@
                <div class="direction-header-styled" style="display: flex; align-items: center; margin-bottom: 15px; padding-bottom: 8px; border-bottom: 1px solid #eee;">
                    <span style="font-size: 1.3rem; margin-right: 10px;">üìÇ</span>
                    <h3 style="margin: 0; font-size: 1.2rem; color: #2c3e50; font-weight: 700;">
                        @group.DirectionName
                    </h3>
                </div>

                @* === –°–ï–¢–ö–ê –ö–ê–†–¢–û–ß–ï–ö (–î–µ–ª–∞–µ–º –∏—Ö —É–∂–µ, —á—Ç–æ–±—ã –≤–º–µ—Å—Ç–∏–ª–æ—Å—å –±–æ–ª—å—à–µ) === *@
                <div class="program-list" style="grid-template-columns: repeat(auto-fill, minmax(220px, 1fr)); gap: 15px;">
                    @foreach (var specialty in group.Specialties)
                    {

                        <a asp-controller="Curriculum" asp-action="Index" 
                           asp-route-specialtyId="@specialty.Id" 
                           class="program-card" 
                           style="padding: 15px; min-height: auto; justify-content: space-between;">
                            
                            <div class="program-discipline-header" style="margin-bottom: 0;">
                                <h3 class="program-discipline-name" style="font-size: 1.0rem; line-height: 1.4; margin-bottom: 0;">
                                    @specialty.SpecialtyName
                                </h3>
                            </div>
                        </a>
                    }
                </div>
            </div>
        }
    }
</div>