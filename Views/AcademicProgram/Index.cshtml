@model IEnumerable<MyWebApp.Models.AcademicProgram>

@{
    ViewData["Title"] = "–£—á–µ–±–Ω—ã–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã";
    // –ü–æ–ª—É—á–∞–µ–º —Ñ–ª–∞–≥ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ (—É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –æ–Ω –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è –∏–∑ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞)
    var isAdmin = (bool?)ViewBag.IsAdmin ?? false; 
}

<link rel="stylesheet" href="~/css/site.css" asp-append-version="true" />

<div class="container program-container">
    
    <a href="/" class="back-button">
        <span class="back-icon">‚Üê</span> –ù–∞ –≥–ª–∞–≤–Ω—É—é
    </a>

    <h2 class="program-page-title">üéì –£—á–µ–±–Ω—ã–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã (@Model.Count())</h2>

    @* === –ë–õ–û–ö –î–û–ë–ê–í–õ–ï–ù–ò–Ø –ü–†–û–ì–†–ê–ú–ú–´ (–¢–û–õ–¨–ö–û –î–õ–Ø –ê–î–ú–ò–ù–ê) === *@
    @if (isAdmin)
    {
        <div class="admin-actions-bar">
            <a asp-controller="AcademicProgram" asp-action="Create" class="btn btn-primary add-program-button">
                –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–≥—Ä–∞–º–º—É
            </a>
        </div>
        <hr class="separator" />
    }

    <div class="program-list">
        @if (Model.Any())
        {
            @foreach (var item in Model)
            {
                // –í—Å—è –∫–∞—Ä—Ç–æ—á–∫–∞ - —ç—Ç–æ —Å—Å—ã–ª–∫–∞ –Ω–∞ Details
                <a asp-action="Details" asp-route-id="@item.Id" class="program-card">
                    
                    @* === –ë–õ–û–ö 1: –î–ò–°–¶–ò–ü–õ–ò–ù–ê –ò –ì–û–î (–ì–õ–ê–í–ù–´–ô –ó–ê–ì–û–õ–û–í–û–ö) === *@
                    <div class="program-discipline-header">
                        <h3 class="program-discipline-name">@item.Discipline?.Name</h3>
                        <span class="program-year-badge">@item.StartYear</span>
                    </div>

                    @* === –ë–õ–û–ö 2: –°–ü–ï–¶–ò–ê–õ–¨–ù–û–°–¢–¨, –ù–ê–ü–†–ê–í–õ–ï–ù–ò–ï, –ù–ê–ó–í–ê–ù–ò–ï –ü–†–û–ì–†–ê–ú–ú–´ === *@
                    <div class="program-body">
                        <p class="program-specialty-info">
                            <span class="label">–°–ø–µ—Ü–∏–∞–ª—å–Ω–æ—Å—Ç—å:</span> 
                            <span class="value specialty-name">@item.Specialty?.Name</span>
                        </p>
                        <p class="program-specialty-info">
                            <span class="label">–ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:</span> 
                            <span class="value">@item.Specialty?.Direction</span>
                        </p>
                        
                        @* –ù–∞–∑–≤–∞–Ω–∏–µ —Å–∞–º–æ–π –ø—Ä–æ–≥—Ä–∞–º–º—ã *@
                        <p class="program-name-value">–ü—Ä–æ–≥—Ä–∞–º–º–∞: @item.Name</p>
                    </div>

                    @* === –ë–õ–û–ö 3: –î–ï–¢–ê–õ–ò –ò –°–¢–ê–¢–£–° (FOOTER) === *@
                    <div class="program-footer">
                        <div class="footer-item">
                            <span class="icon">‚è≥</span> @item.Specialty?.Duration –ª–µ—Ç
                        </div>
                        <div class="footer-item">
                            <span class="icon">üéì</span> @item.Specialty?.Qualification
                        </div>
                        <div class="footer-item">
                            @* –ú–µ–Ω—è–µ–º —Ü–≤–µ—Ç —Å—Ç–∞—Ç—É—Å–∞ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ç–µ–∫—Å—Ç–∞ *@
                            <span class="status-indicator @(item.Status == "approved" ? "status-green" : "status-gray")">
                                @item.Status
                            </span>
                        </div>
                    </div>

                </a>
            }
        }
        else
        {
            <div class="empty-message">
                –ù–µ—Ç –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —É—á–µ–±–Ω—ã—Ö –ø—Ä–æ–≥—Ä–∞–º–º.
            </div>
        }
    </div>
</div>